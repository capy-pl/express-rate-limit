!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";function n(e){const t={},i=e&&e.rateLimit||1e3,n=e&&e.timeWindow?1e3*e.timeWindow:36e5;return function(e,r,a){try{const{ip:o}=e;if(o in t){const{rateLimitRemain:e,rateLimitReset:a}=t[o];if(a<(new Date).getTime())t[o]={rateLimitRemain:i-1,rateLimitReset:(new Date).getTime()+n},r.setHeader("X-RateLimit-Remaining",i-1),r.setHeader("X-RateLimit-Reset",Math.ceil(n/1e3));else{if(e<=0)return r.setHeader("X-RateLimit-Remaining",0),r.setHeader("X-RateLimit-Reset",Math.ceil((e-(new Date).getTime())/1e3)),void r.status(429).end();t[o].rateLimitRemain-=1,r.setHeader("X-RateLimit-Remaining",t[o].rateLimitRemain),r.setHeader("X-RateLimit-Reset",Math.ceil((e-(new Date).getTime())/1e3))}}else t[o]={rateLimitRemain:i-1,rateLimitReset:(new Date).getTime()+n},r.setHeader("X-RateLimit-Remaining",i-1),r.setHeader("X-RateLimit-Reset",Math.ceil(n)/1e3);a()}catch(e){a(e)}}}i.r(t),i.d(t,"default",(function(){return n}))}]);